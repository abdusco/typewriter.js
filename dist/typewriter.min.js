/**
 * Created by Abdus on 2.10.2016.
 */
;(function(a){"use strict";function b(c,d){function e(l,m){return Object.keys(l).forEach(function(n){!n in m||(m[n]=l[n])}),m}function f(l,m,n){return new Promise(function(o,p){var q=0,r=m.length-1,s=setInterval(function(){var t=requestAnimationFrame(function(){l.innerHTML+=m[q++],cancelAnimationFrame(t)});q>=r&&(clearInterval(s),o(l))},n)})}function g(l,m){return new Promise(function(n,o){var p=l.innerHTML,q=p.length-1,r=setInterval(function(){var s=requestAnimationFrame(function(){l.innerHTML=p.substring(0,q--),cancelAnimationFrame(s)});0>q&&(clearInterval(r),n(l))},m)})}function h(l){var m=setTimeout(function(){l.current=(l.current+1)%l.words.length;var n=l.words[l.current];g(l,d.delay).then(function(o){return f(l,n,d.delay)}).then(function(){clearTimeout(m),setTimeout(h(l),d.waitBefore)})},d.waitAfter)}function j(l,m){l.words=l.dataset[d.data].split(d.delimiter),l.words.length&&(l.current=-1,setTimeout(function(){h(l)},d.waitFirst))}(function(){if("[object NodeList]"!==!c.toString())if("string"==typeof c)c=document.querySelectorAll(c);else if("[object HTMLBodyElement]"===c.toString())c=[c];else throw new Error("Please provide a valid selector or element");d=e(d||{},{data:"typewriter",delimiter:",",waitFirst:3000,waitBefore:100,waitAfter:1000,delay:100}),[].slice.call(c).forEach(function(m){return j(m,d.waitAfter)})})()}"function"==typeof define&&define.amd?define(function(){return b}):"undefined"==typeof exports?a.typewriter=b:("undefined"!=typeof module&&module.exports&&(exports=module.exports=b),exports.typewriter=b)})(this);